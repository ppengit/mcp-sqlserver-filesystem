﻿﻿﻿# MCP SQL Server Filesystem Configuration
# =====================================
# 复制此文件为 .env 并根据您的环境进行配置

# =============================================================================
# 数据库配置 (Database Configuration)
# =============================================================================

# SQL Server 服务器地址
DB_SERVER=localhost

# 数据库名称
DB_DATABASE=master

# 认证方式 (true=Windows认证, false=SQL Server认证)
DB_USE_WINDOWS_AUTH=true

# SQL Server 认证用户名 (仅在 DB_USE_WINDOWS_AUTH=false 时需要)
# DB_USERNAME=your_username

# SQL Server 认证密码 (仅在 DB_USE_WINDOWS_AUTH=false 时需要)
# DB_PASSWORD=your_password

# SQL Server 端口
DB_PORT=1433

# ODBC 驱动程序名称
DB_DRIVER=ODBC Driver 17 for SQL Server

# 连接超时时间 (秒)
DB_CONNECTION_TIMEOUT=30

# 命令超时时间 (秒)
DB_COMMAND_TIMEOUT=30

# 连接池大小
DB_POOL_SIZE=5

# 最大溢出连接数
DB_MAX_OVERFLOW=10

# =============================================================================
# 增强的数据库连接参数 (Enhanced Database Connection Parameters)
# =============================================================================

# 信任服务器证书 (适用于开发环境和自签名证书)
DB_TRUST_SERVER_CERTIFICATE=true

# 启用加密连接 (生产环境建议设为 true)
DB_ENCRYPT=false

# 启用多个活动结果集 (提高性能)
DB_MULTIPLE_ACTIVE_RESULT_SETS=true

# 应用程序名称 (用于连接跟踪和监控)
DB_APPLICATION_NAME=MCP-SQLServer-Filesystem

# =============================================================================
# 文件系统配置 (Filesystem Configuration)
# =============================================================================

# 允许访问的路径 (用逗号分隔)
# 留空或设为 * 表示允许访问所有磁盘文件 (完全访问模式)
# 注意：不在允许列表中的路径将被自动阻止访问
# 示例:
#   FS_ALLOWED_PATHS=*                                    # 允许访问所有磁盘 (不推荐生产环境)
#   FS_ALLOWED_PATHS=                                     # 同上，完全访问模式
#   FS_ALLOWED_PATHS=C:\Users\,D:\Projects\              # 仅允许访问指定目录 (Windows)
#   FS_ALLOWED_PATHS=/home/user/documents,/home/user/projects  # 仅允许访问指定目录 (Linux/macOS)
#   FS_ALLOWED_PATHS=C:\Users\John\Desktop\,C:\Temp\     # 多个目录示例
FS_ALLOWED_PATHS=



# 最大文件大小 (字节)
# 默认: 1073741824 (1GB)
FS_MAX_FILE_SIZE=1073741824

# 允许的文件扩展名 (用逗号分隔，留空或使用 *.* 表示允许所有扩展名)
# 注意：不在允许列表中的扩展名将被自动阻止
# 示例:
#   FS_ALLOWED_EXTENSIONS=*.*                           # 允许所有扩展名
#   FS_ALLOWED_EXTENSIONS=.txt,.json,.xml,.csv,.log,.md
#   FS_ALLOWED_EXTENSIONS=.py,.js,.html,.css,.sql
FS_ALLOWED_EXTENSIONS=

# 忽略文件锁定 (即使文件被其他程序打开也尝试读写)
# true=忽略锁定尝试强制访问, false=遇到锁定文件时报错
FS_IGNORE_FILE_LOCKS=true

# 启用写入操作
FS_ENABLE_WRITE=true

# 启用删除操作 (谨慎启用)
FS_ENABLE_DELETE=false

# =============================================================================
# 安全配置 (Security Configuration)
# =============================================================================

# 启用 SQL 注入保护
SEC_ENABLE_SQL_PROTECTION=true

# 最大查询长度
SEC_MAX_QUERY_LENGTH=10000

# 启用查询日志记录
SEC_ENABLE_QUERY_LOGGING=true

# 记录敏感数据 (生产环境建议设为 false)
SEC_LOG_SENSITIVE_DATA=false

# =============================================================================
# 服务器配置 (Server Configuration)
# =============================================================================

# 启用调试模式
SERVER_DEBUG=false

# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
SERVER_LOG_LEVEL=INFO

# 日志文件路径 (可选)
# SERVER_LOG_FILE=/var/log/mcp-sqlserver-filesystem.log

# =============================================================================
# MCP 调试配置 (MCP Debug Configuration)
# =============================================================================

# 启用 MCP 调试输出
MCP_DEBUG=false

# Web UI 主机地址 (127.0.0.1=仅本地访问, 0.0.0.0=允许远程访问)
MCP_WEB_HOST=127.0.0.1

# Web UI 端口
MCP_WEB_PORT=8765

# 启用桌面应用模式
MCP_DESKTOP_MODE=false

# UI 语言 (zh-CN=简体中文, zh-TW=繁体中文, en=英语)
MCP_LANGUAGE=zh-CN

# =============================================================================
# 示例配置说明
# =============================================================================

# 开发环境配置示例:
# DB_SERVER=localhost
# DB_DATABASE=TestDB
# DB_USE_WINDOWS_AUTH=true
# DB_TRUST_SERVER_CERTIFICATE=true
# DB_ENCRYPT=false
# MCP_DEBUG=true

# 生产环境配置示例:
# DB_SERVER=prod-sql-server.company.com
# DB_DATABASE=ProductionDB
# DB_USE_WINDOWS_AUTH=false
# DB_USERNAME=mcp_user
# DB_PASSWORD=secure_password
# DB_TRUST_SERVER_CERTIFICATE=false
# DB_ENCRYPT=true
# MCP_DEBUG=false
# SEC_LOG_SENSITIVE_DATA=false

# SSH 远程环境配置示例:
# MCP_WEB_HOST=0.0.0.0
# MCP_WEB_PORT=8765
# MCP_DESKTOP_MODE=false

# 本地桌面环境配置示例:
# MCP_WEB_HOST=127.0.0.1
# MCP_DESKTOP_MODE=true
